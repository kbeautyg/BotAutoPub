from aiogram import Router
from aiogram.types import Message
from aiogram.filters import Command
import supabase_db
from __init__ import TEXTS

router = Router()

@router.message(Command("help"))
async def cmd_help(message: Message):
    user_id = message.from_user.id
    lang = "ru"
    user = supabase_db.db.get_user(user_id)
    if user:
        lang = user.get("language", "ru")
    
    # –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ —Å –≤—Å–µ–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
    help_text = """
üìñ **–°–ø—Ä–∞–≤–∫–∞ –ø–æ –±–æ—Ç—É**

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
‚Ä¢ `/start` - –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
‚Ä¢ `/menu` - –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
‚Ä¢ `/help` - —ç—Ç–∞ —Å–ø—Ä–∞–≤–∫–∞

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞–º–∏:**
‚Ä¢ `/create` - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø–æ—Å—Ç (–ø–æ—à–∞–≥–æ–≤–æ)
‚Ä¢ `/quickpost <–∫–∞–Ω–∞–ª> <–≤—Ä–µ–º—è> <—Ç–µ–∫—Å—Ç>` - –±—ã—Å—Ç—Ä–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ
  –ü—Ä–∏–º–µ—Ä—ã:
  - `/quickpost @channel now –¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞`
  - `/quickpost 1 draft –ß–µ—Ä–Ω–æ–≤–∏–∫`
  - `/quickpost 2 2024-12-25_15:30 –ü–æ—Å—Ç`

‚Ä¢ `/list` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ—Å—Ç–æ–≤
‚Ä¢ `/view <ID>` - –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å—Ç–∞
‚Ä¢ `/edit <ID>` - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç
‚Ä¢ `/delete <ID>` - —É–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç
‚Ä¢ `/publish <ID>` - –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
‚Ä¢ `/reschedule <ID> <–¥–∞—Ç–∞> <–≤—Ä–µ–º—è>` - –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—é

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞–º–∏:**
‚Ä¢ `/channels` - –º–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–Ω–∞–ª–∞–º–∏
‚Ä¢ `/channels add <@–∫–∞–Ω–∞–ª –∏–ª–∏ ID>` - –¥–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∞–ª
‚Ä¢ `/channels remove <ID>` - —É–¥–∞–ª–∏—Ç—å –∫–∞–Ω–∞–ª
‚Ä¢ `/channels list` - —Å–ø–∏—Å–æ–∫ –∫–∞–Ω–∞–ª–æ–≤

**–ü—Ä–æ–µ–∫—Ç—ã:**
‚Ä¢ `/project` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏
‚Ä¢ `/project new <–Ω–∞–∑–≤–∞–Ω–∏–µ>` - —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
‚Ä¢ `/project switch <ID>` - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
‚Ä¢ `/project invite <user_id>` - –ø—Ä–∏–≥–ª–∞—Å–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
‚Ä¢ `/settings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è

**–¢–µ–∫—Å—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ò–ò-–∞–≥–µ–Ω—Ç–∞:**
–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–æ—Å—Ç–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
‚Ä¢ `skip` –∏–ª–∏ `–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å` - –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —à–∞–≥
‚Ä¢ `back` –∏–ª–∏ `–Ω–∞–∑–∞–¥` - –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥
‚Ä¢ `cancel` –∏–ª–∏ `–æ—Ç–º–µ–Ω–∞` - –æ—Ç–º–µ–Ω–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é
‚Ä¢ `now` –∏–ª–∏ `—Å–µ–π—á–∞—Å` - –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–µ–π—á–∞—Å
‚Ä¢ `draft` –∏–ª–∏ `—á–µ—Ä–Ω–æ–≤–∏–∫` - —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ —á–µ—Ä–Ω–æ–≤–∏–∫

**–§–æ—Ä–º–∞—Ç—ã –≤—Ä–µ–º–µ–Ω–∏:**
‚Ä¢ `YYYY-MM-DD HH:MM` (2024-12-25 15:30)
‚Ä¢ `DD.MM.YYYY HH:MM` (25.12.2024 15:30)
‚Ä¢ `DD/MM/YYYY HH:MM` (25/12/2024 15:30)

üí° **–°–æ–≤–µ—Ç:** –ë–æ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ò–ò-–∞–≥–µ–Ω—Ç–∞–º–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ!
"""
    
    await message.answer(help_text, parse_mode="Markdown")
